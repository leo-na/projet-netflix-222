{"mappings":"AAAA,2uBA2BI,CAEJ,MAAM,OAAO,GAAG,8BAA8B,AAAC;AAC/C,MAAM,OAAO,GAAG,kCAAkC,AAAC;AAEnD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,AAAC;AAC9C,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,AAAC;AACjD,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,AAAC;AAChD,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,AAAC;AACpD,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,AAAC;AAEhD,wDAAwD;AACxD,SAAS,SAAS,CAAC,KAAK,EAAE;IACxB,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,sBAAsB,EAAE,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,CAC/D,IAAI,CAAC,CAAC,QAAQ,GAAK,QAAQ,CAAC,IAAI,EAAE;IAAA,CAAC,CACnC,IAAI,CAAC,CAAC,QAAQ,GAAK,UAAU,CAAC,QAAQ,CAAC;IAAA,CAAC,CAAC;CAC7C;AAED,SAAS,gBAAgB,CAAC,KAAK,EAAE;IAC/B,KAAK,EAAE,CAAC;CACT;AAED,oCAAoC;AACpC,SAAS,UAAU,CAAC,MAAM,EAAE;IAC1B,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC;IAExB,IAAI,MAAM,CAAC,aAAa,KAAK,CAAC,EAAE;QAC9B,MAAM,CAAC,SAAS,GAAG,6BAA0B,CAAI;QAC9C,OAAI;KACR;IAED,MAAM,CAAC,SAAS,GAAG,CAAC,EAAE,MAAM,CAAC,aAAa,CAAC,WAAU,CAAC,CAAC;IAEvD,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAEtC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,SAAU,KAAK,EAAE;QACtC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,AAAC;QACtD,YAAY,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC;QAErC,IAAI,KAAK,CAAC,YAAY,EAAE;YACtB,MAAM,IAAI,GAAG,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,AAAC;YAC9C,yEAAyE;YACzE,YAAY,CAAC,SAAS,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;SACxC;QAED,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,WAAY;YACjD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SACpB,CAAC,CAAC;QAEH,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;KACjC,CAAC,CAAC;IAEH,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;CAC7B;AAED,0CAA0C;AAC1C,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,SAAU,KAAK,EAAE;IAChD,KAAK,CAAC,cAAc,EAAE,CAAC;IAEvB,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;CACzB,CAAC,CAAC","sources":["src/index.js"],"sourcesContent":["/*let $form = document.querySelector(\"#form\");\r\nlet $input = document.querySelector(\".input\");\r\nlet $button = document.querySelector(\"search-btn3\");\r\nlet $count = document.querySelector(\"#count\");\r\nlet $movie = document.querySelector(\"#movie\");\r\n\r\nfunction getSearch(query) {\r\n  console.log(query);\r\n}\r\n\r\n$form.addEventListener(\"submit\", function (event) {\r\n  event.preventDefault();\r\n  getSearch($input.value);\r\n  search($input.value);\r\n});\r\n\r\nlet search = function () {\r\n  fetch(\r\n    \"https://api.themoviedb.org/3/search/movie?api_key=a4880995fbb07d40249df7d0c03c8383&query=\" +\r\n      $input.value\r\n  )\r\n    .then(function (response) {\r\n      return response.json();\r\n    })\r\n    .then(function (film) {\r\n      console.log(film);\r\n    });\r\n};*/\r\n\r\nconst API_URL = \"https://api.themoviedb.org/3\";\r\nconst API_KEY = \"a4880995fbb07d40249df7d0c03c8383\";\r\n\r\nconst $form = document.querySelector(\"#form\");\r\nconst $input = document.querySelector(\"#search\");\r\nconst $count = document.querySelector(\"#count\");\r\nconst $results = document.querySelector(\"#results\");\r\nconst $movie = document.querySelector(\"#movie\");\r\n\r\n// Make an API request to get movies for the given query\r\nfunction getMovies(query) {\r\n  fetch(`${API_URL}/search/movie?api_key=${API_KEY}&query=${query}`)\r\n    .then((response) => response.json())\r\n    .then((response) => showMovies(response));\r\n}\r\n\r\nfunction getMoviesDEtails(movie) {\r\n  fetch();\r\n}\r\n\r\n// Add the movies buttons to the DOM\r\nfunction showMovies(movies) {\r\n  $results.innerHTML = \"\";\r\n\r\n  if (movies.total_results === 0) {\r\n    $count.innerText = \"Aucun résultat, désolé !\";\r\n    return;\r\n  }\r\n\r\n  $count.innerText = `${movies.total_results} résultats`;\r\n\r\n  $list = document.createElement(\"div\");\r\n\r\n  movies.results.forEach(function (movie) {\r\n    const $movieButton = document.createElement(\"button\");\r\n    $movieButton.innerText = movie.title;\r\n\r\n    if (movie.release_date) {\r\n      const year = movie.release_date.split(\"-\")[0];\r\n      // alternative : const year = new Date(movie.release_date).getFullYear();\r\n      $movieButton.innerText += ` (${year})`;\r\n    }\r\n\r\n    $movieButton.addEventListener(\"click\", function () {\r\n      console.log(movie);\r\n    });\r\n\r\n    $list.appendChild($movieButton);\r\n  });\r\n\r\n  $results.appendChild($list);\r\n}\r\n\r\n// Listen to form submit to trigger search\r\n$form.addEventListener(\"submit\", function (event) {\r\n  event.preventDefault();\r\n\r\n  getMovies($input.value);\r\n});\r\n"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}